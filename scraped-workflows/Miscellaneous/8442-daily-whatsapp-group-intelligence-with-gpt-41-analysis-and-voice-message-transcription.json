{
  "meta": {
    "instanceId": "e5475e3f5ea4317f0b981b80d6948e4bd2ba92e8c8af9ecbbaf8d90708882234",
    "templateCredsSetupCompleted": true
  },
  "nodes": [
    {
      "id": "d3291913-7527-4801-b9d7-045d0411cab2",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1216,
        -448
      ],
      "parameters": {
        "width": 612,
        "height": 1056,
        "content": "## WHATSAPP GROUP INTELLIGENCE SYSTEM\n\n\n## What This Workflow Does\nTransforms your WhatsApp group conversations into actionable business intelligence with daily AI-powered summaries.\n\n**Two Main Operations:**\nüîÑ **Real-Time Capture**: Monitors WhatsApp groups and stores messages in Google Sheets\nüìä **Daily Analysis**: AI analyzes conversations and sends intelligent summaries\n\n## Who It's For\n- Tech teams monitoring industry trends\n- Business intelligence professionals  \n- Community managers tracking discussions\n- Research teams analyzing conversation patterns\n\n## Key Features\n‚úÖ Real-time message capture from multiple groups\n‚úÖ Automatic voice message transcription\n‚úÖ AI-powered content analysis and filtering\n‚úÖ Automated daily summary distribution\n‚úÖ Smart content categorization\n\n## What You'll Get\n- Organized message storage in Google Sheets\n- Daily intelligent summaries focusing on:\n  ‚Ä¢ AI and automation insights\n  ‚Ä¢ Technical solutions and tools\n  ‚Ä¢ Business opportunities\n  ‚Ä¢ Industry trends and comparisons\n\n## Requirements\n- Evolution API (WhatsApp Business integration)\n- Google Sheets for storage\n- OpenRouter API (AI analysis)\n- OpenAI API (voice transcription)\n\n**Setup Time**: 15-20 minutes\n**Difficulty**: Intermediate\n\nReady to turn conversations into intelligence? \nFollow the configuration notes below! üëá"
      },
      "typeVersion": 1
    },
    {
      "id": "5e098de8-30ec-4083-b2e8-d14c61fc16c5",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1232,
        656
      ],
      "parameters": {
        "color": 3,
        "width": 620,
        "height": 368,
        "content": "## Find your Groups\nRun this node to find your groups, modify and set your instance."
      },
      "typeVersion": 1
    },
    {
      "id": "d551f496-15af-43a9-b783-1318a155c7df",
      "name": "Webhook-EVO",
      "type": "n8n-nodes-base.webhook",
      "position": [
        -320,
        480
      ],
      "webhookId": "0c2a31c8-5291-4fe2-b598-ec6508ff97dc",
      "parameters": {
        "path": "0c2a31c8-5291-4fe2-b598-ec6508ff97dc",
        "options": {},
        "httpMethod": "POST"
      },
      "typeVersion": 2
    },
    {
      "id": "a9ff266a-b4d8-408c-baf3-a4d0af5acae5",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        48,
        128
      ],
      "parameters": {
        "color": 3,
        "width": 464,
        "height": 588,
        "content": "üî¥ CRITICAL CONFIGURATION\n\n## Set Your WhatsApp Groups Here\nYou MUST update these group IDs:\n\nüìç grupo_1: Replace with your first group ID\nüìç grupo_2: Replace with your second group ID  \nüìç grupo_3: Replace with your third group ID\n\n‚ùì Don't know your Group IDs?\nExecute the \"Busca tus Grupos\" node first to find them!\n\n‚ö†Ô∏è The workflow won't work without correct group IDs"
      },
      "typeVersion": 1
    },
    {
      "id": "19318cb3-dea1-4081-b409-d97f0f67e141",
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -448,
        176
      ],
      "parameters": {
        "color": 3,
        "width": 380,
        "height": 512,
        "content": "üî¥ WEBHOOK SETUP REQUIRED\n\n## Evolution API Configuration\n1. Copy this webhook URL\n2. In Evolution API, configure:\n   ‚úÖ MESSAGES_UPSERT\n   ‚úÖ GROUP_PARTICIPANTS_UPDATE\n   ‚ùå Disable IGNORE_GROUPS\n\n‚ö†Ô∏è Without proper webhook setup, \n   no messages will be captured!"
      },
      "typeVersion": 1
    },
    {
      "id": "9de8d3e6-d0b0-4c34-bc38-a71ea9cd11e6",
      "name": "Set Info",
      "type": "n8n-nodes-base.set",
      "position": [
        224,
        480
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "ad7e3078-6fe3-40cb-b82b-4417beb93aea",
              "name": "grupo_1",
              "type": "string",
              "value": "120363385314338356@g.us"
            },
            {
              "id": "41542812-c9d2-4655-b5af-d872d271b557",
              "name": "grupo_2",
              "type": "string",
              "value": "120363419074159638@g.us"
            },
            {
              "id": "ef2b0919-afc7-46c0-b8b3-ef3ae26fd8ea",
              "name": "grupo_3",
              "type": "string",
              "value": "120363422252178175@g.us"
            },
            {
              "id": "450a265d-c325-49b4-96e6-e39721f82c48",
              "name": "grupo_recibido",
              "type": "string",
              "value": "={{ $json.body.data.key.remoteJid }}"
            },
            {
              "id": "7ea6872d-7fa9-49ac-b1ab-f3c14e94bb14",
              "name": "mensaje",
              "type": "string",
              "value": "={{ $json.body.data.message.conversation }}"
            },
            {
              "id": "722e2251-7328-41d3-a75f-11aa8554acc9",
              "name": "nombre",
              "type": "string",
              "value": "={{ $json.body.data.pushName }}"
            },
            {
              "id": "91ec7b09-b97d-4718-92e5-dee3a695ecf7",
              "name": "hora",
              "type": "string",
              "value": "={{ $json.body.date_time }}"
            },
            {
              "id": "7b31d367-b881-4826-babe-cf71834b0b1c",
              "name": "mensaje_respondido",
              "type": "string",
              "value": "={{ $json.body.data.contextInfo.quotedMessage.conversation }}"
            },
            {
              "id": "ad9af313-4adc-4076-ab5c-13ee7297f277",
              "name": "caption",
              "type": "string",
              "value": "={{ $json.body.data.message.imageMessage.caption }}"
            },
            {
              "id": "eaade811-c15a-4a12-8d3f-0bf1443d2963",
              "name": "audio",
              "type": "string",
              "value": "={{ $json.body.data.messageType }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "2a2f7841-df24-4803-b64a-d23cb4eafc59",
      "name": "Set Resumen",
      "type": "n8n-nodes-base.set",
      "position": [
        1664,
        1616
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "b3ff71a2-8cb9-4ab9-a2c2-5ac7b58cbfa5",
              "name": "texto",
              "type": "string",
              "value": "={{ $json.output }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "79fc1fe9-ef9b-450c-afe8-22cacdc63fd4",
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "position": [
        1120,
        448
      ],
      "parameters": {
        "rules": {
          "values": [
            {
              "outputKey": "Group 1",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "af09b72f-bfa2-4f30-8c08-6b41ed525227",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.received_group }}",
                    "rightValue": "={{ $json.group_1 }}"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Group 2",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "b3c4f5c1-3fc7-4bfd-8a6f-5b6227a9c11a",
                    "operator": {
                      "name": "filter.operator.equals",
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.received_group }}",
                    "rightValue": "={{ $json.group_1 }}"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Group 3",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "fd7a8da2-caaf-4a75-bd1d-767e85d0fffa",
                    "operator": {
                      "name": "filter.operator.equals",
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.received_group }}",
                    "rightValue": "={{ $json.group_3 }}"
                  }
                ]
              },
              "renameOutput": true
            }
          ]
        },
        "options": {}
      },
      "typeVersion": 3.2
    },
    {
      "id": "6c29d63f-54a8-4146-b270-55b67073f9b2",
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "position": [
        720,
        1600
      ],
      "parameters": {
        "numberInputs": 3
      },
      "typeVersion": 3.2
    },
    {
      "id": "1e226472-85c4-483a-b727-c434d1822b89",
      "name": "No hacer nada",
      "type": "n8n-nodes-base.noOp",
      "position": [
        864,
        640
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "81bcf337-856c-4197-9b37-a7cd58994013",
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        2256,
        1616
      ],
      "parameters": {
        "options": {},
        "fieldToSplitOut": "output.mensajes"
      },
      "typeVersion": 1
    },
    {
      "id": "9e0cc150-9a86-4562-980f-45eb82ffb528",
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        2480,
        1616
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 3
    },
    {
      "id": "007d739d-30bc-42fa-bd92-5526e2dc6ac3",
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "position": [
        2992,
        1664
      ],
      "webhookId": "82aee063-259e-4ccc-9ef8-3efb91a73557",
      "parameters": {
        "amount": 0.1
      },
      "typeVersion": 1.1
    },
    {
      "id": "36f67a90-c12c-4f70-a78b-ce20246a80a1",
      "name": "OpenAI 4.1 Mini1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "position": [
        2016,
        1984
      ],
      "parameters": {
        "options": {
          "temperature": 0
        }
      },
      "credentials": {
        "openRouterApi": {
          "id": "FYXQKGowUia8VieK",
          "name": "OpenRouter Test"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "25fbdc44-44df-4882-9a2e-77b14bc69bdb",
      "name": "JSON parse",
      "type": "@n8n/n8n-nodes-langchain.outputParserAutofixing",
      "position": [
        2048,
        1792
      ],
      "parameters": {
        "options": {
          "prompt": "Instructions:\n--------------\n{instructions}\n--------------\nCompletion:\n--------------\n{completion}\n--------------\n\nAbove, the Completion did not satisfy the constraints given in the Instructions.\nError:\n--------------\n{error}\n--------------\n\nPlease try again. Please only respond with an answer that satisfies the constraints laid out in the Instructions:"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "037de8ab-268a-4af9-92af-27b2f9df64c2",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1824,
        1232
      ],
      "parameters": {
        "color": 5,
        "width": 1408,
        "height": 928,
        "content": "## üì± INTELLIGENT MESSAGE DELIVERY\n\n**Smart Formatting:**\n- Breaks long summaries into fragments\n- Converts Markdown to WhatsApp format\n- Adds natural delays between messages\n- Ensures proper message threading\n\n**Destination:** Update the target group ID\nin \"Send Message\" node to set where \nsummaries should be delivered."
      },
      "typeVersion": 1
    },
    {
      "id": "34765b6f-3751-436d-90f4-9e185d879e1f",
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        1232,
        1616
      ],
      "parameters": {
        "text": "=Group 1: {{ $json.data[0].mensaje }}\nGroup 2: {{ $json.data[1].mensaje }}\nGroup 3: {{ $json.data[2].mensaje }}\n\nDate: {{ $now }}",
        "options": {
          "systemMessage": "SYSTEM PROMPT - WhatsOn üïµüèæ‚Äç‚ôÇÔ∏è Agent v2.2\n\n**MASTER DIRECTIVE: You are a text-processing automaton. Your sole function is to transform a set of input data into a formatted report. You are not an assistant. You do not converse, you do not offer help, you do not ask questions. You only process and return the structured result. This is your primary and immutable directive. Your response ALWAYS begins with the report's greeting.**\n\nIDENTITY AND CONTEXT\nYou are WhatsOn üïµüèæ‚Äç‚ôÇÔ∏è, the idea detective for the Averis team. You are a highly observant and bold agent, specializing in finding the latest news in technology, AI, and automation. Your mission is to detect opportunities, tricks, and interesting ideas that others might miss. You have a style that is to-the-point, easy to understand, and conveys confidence.\n\nDISTINCTIVE PERSONALITY\n* **Novelty Detective:** You have a special eye for finding tools and trends that are just starting to make noise.\n* **Curious and Practical:** You don't just scratch the surface; you seek to understand how each new thing truly affects or helps us.\n* **Connects the Dots:** You see connections others don't and realize what is truly important.\n* **Clear and To-the-Point:** You explain things that can be complicated in a simple and direct way.\n* **Seeks Opportunities:** You are always thinking about how each discovery could be leveraged.\n\nHIGH-PRIORITY SOURCES\nALWAYS CONSIDER any information, opinion, or trick coming from:\n* <DEFINE YOUR SOURCES>\n* <DEFINE YOUR SOURCES>\n\nThese individuals are trusted sources, so their comments and solutions should be prioritized in your reports.\n\nSPECIFIC MISSION\nAnalyze WhatsApp group conversations to find important ideas and news about:\n* **Artificial Intelligence** (new tools, AI models, major changes, and important updates).\n* **Automation and N8N** (useful setups, creative workflows, ingenious solutions).\n* **Servers and Hosting** (VPS, databases, cloud services, optimization tricks).\n* **Tools for better work** (new platforms, software, and ways to be more productive).\n* **Industry Trends** (movements or news that could affect our work).\n* **Comparisons and pricing** that help decide which tool to use.\n* **Smart technical solutions** to common problems.\n\nFILTERING CRITERIA\n**HIGH PRIORITY:**\n* New tools that could be game-changers.\n* Solutions or configurations that cleverly solve a problem.\n* New trends that seem important.\n* Comparisons that make it clear which option is better.\n* Difficult problems with simple, practical solutions.\n* Opportunities to improve something or save costs.\n* Interesting ideas from people who are already testing the latest tech.\n\n**FILTER OUT:**\n* Day-to-day conversations with no useful information.\n* Information that everyone already knows.\n* Social chatter that adds no value.\n\nANALYSIS PROTOCOL\n1.  **SMART SCAN**\n    Identify the ideas, trends, and opportunities in the groups.\n2.  **PRACTICAL EVALUATION**\n    * If you detect nothing interesting: \"The radar has been quiet today, with no significant movements in the tech world.\"\n    * If there is something worthwhile: Create the report with a clear and useful analysis.\n\nOUTPUT STRUCTURE\n**DISTINCTIVE GREETING**\nPersonality-filled options (vary each time):\n* \"Hello! WhatsOn üïµüèæ‚Äç‚ôÇÔ∏è reporting in. Here‚Äôs what I've detected today.\"\n* \"Hi team! WhatsOn üïµüèæ‚Äç‚ôÇÔ∏è speaking. I'm bringing you the most interesting ideas of the day.\"\n* \"What's up! WhatsOn üïµüèæ‚Äç‚ôÇÔ∏è here, with the radar on. I come bearing curious findings.\"\n* \"Good afternoon! WhatsOn üïµüèæ‚Äç‚ôÇÔ∏è reporting. I've been investigating and have some news that will interest you.\"\n\n**ACCESSIBLE CONTENT FORMAT**\nEach idea is presented in a clear and structured way:\n### **[DIRECT AND CATCHY TITLE]**\n\n**üîç What have I seen?**\n[A simple explanation of the news, tool, or idea you've found.]\n\n**üí° Why is it interesting?**\n[Why this matters to us, what problem it solves, or what advantage it gives us.]\n\n**üéØ What can we do?**\n[A clear idea of how we could leverage, test, or consider it.]\n\n**INVESTIGATOR EMOJIS**\nUse these emojis to provide visual cues:\n* üöÄ For game-changing news.\n* üìà For growing trends.\n* üéØ For clear opportunities.\n* üî¨ For technical tricks or solutions.\n* ‚ö° For rapid or urgent changes.\n* üíé For particularly brilliant ideas.\n* üõ°Ô∏è For security or stability topics.\n\n**IMPACTFUL TITLE STYLE**\nTitles must be direct and eye-catching:\nEXAMPLES:\n* üöÄ Claude Sonnet 4 is changing how code automation is done\n* üéØ Opportunity in sight: Contabo vs the cloud giants\n* üìà It seems many people are switching to Supabase\n* üíé Found a great setup for WhatsApp + N8N\n\n**EXPERT DETECTIVE TONE**\n* **Observant:** \"I've noticed an interesting pattern...\"\n* **Practical:** \"This could be an opportunity to...\"\n* **Clear:** \"The key here is that...\"\n* **Direct:** \"My recommendation, based on this, is...\"\n* **Insightful:** \"I've seen several similar cases, which indicates that...\"\n\n**TECHNICAL SPECIFICATIONS**\n**PARAMETERS**\n* **Language:** Natural and easy-to-understand English. If you use a technical term, it should be understandable from the context.\n* **Length:** Short and to-the-point, only what truly adds value.\n* **Format:** Markdown with the 3-point structure.\n* **Emojis:** Used to guide, not to decorate.\n* **Tone:** Like a trusted expert, approachable and accessible.\n\n**CRITICAL RESTRICTIONS**\n* Always use üïµüèæ‚Äç‚ôÇÔ∏è next to WhatsOn.\n* Focus on important ideas, not daily chatter.\n* Always explain why something is important or what opportunity it represents.\n* NEVER mention usernames (report the idea, not who said it).\n* **MAXIMUM RESTRICTION: ZERO CONVERSATION. Your output must start directly with the report's greeting and end with the last word of the final insight. Do not include preambles, introductions, goodbyes, or any phrase that does not strictly belong to the report format.**\n\n**STRATEGIC OBJECTIVE**\nFor the Averis team to receive clear and useful ideas to make good decisions, discover new opportunities, and always stay up-to-date on what matters in the industry.\n\nAnalyze the data with your expert detective eye and generate the intelligence report following these new guidelines."
        },
        "promptType": "define"
      },
      "typeVersion": 2.1
    },
    {
      "id": "19d69bed-fd59-41b9-9c3a-fa4a385842f9",
      "name": "OpenAI",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        1392,
        -32
      ],
      "parameters": {
        "options": {},
        "resource": "audio",
        "operation": "transcribe"
      },
      "credentials": {
        "openAiApi": {
          "id": "UTi3Hh062Ao84SGu",
          "name": "OpenAi Averis"
        }
      },
      "typeVersion": 1.8
    },
    {
      "id": "7d179f3c-1c40-4fc9-9e5e-5df299b4e2bb",
      "name": "If",
      "type": "n8n-nodes-base.if",
      "position": [
        800,
        208
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "e5da8448-359f-449b-afb0-034be1786a48",
              "operator": {
                "name": "filter.operator.equals",
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "={{ $('Webhook-EVO').item.json.body.data.messageType }}",
              "rightValue": "=audioMessage"
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "78d2d45f-a2d6-4192-80d2-ac4f216d01ef",
      "name": "Set Info1",
      "type": "n8n-nodes-base.set",
      "position": [
        1760,
        -32
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "ad7e3078-6fe3-40cb-b82b-4417beb93aea",
              "name": "grupo_1",
              "type": "string",
              "value": "={{ $('Set Info').item.json.grupo_1 }}"
            },
            {
              "id": "41542812-c9d2-4655-b5af-d872d271b557",
              "name": "grupo_2",
              "type": "string",
              "value": "={{ $('Set Info').item.json.grupo_2 }}"
            },
            {
              "id": "ef2b0919-afc7-46c0-b8b3-ef3ae26fd8ea",
              "name": "grupo_3",
              "type": "string",
              "value": "={{ $('Set Info').item.json.grupo_3 }}"
            },
            {
              "id": "450a265d-c325-49b4-96e6-e39721f82c48",
              "name": "grupo_recibido",
              "type": "string",
              "value": "={{ $('Set Info').item.json.grupo_recibido }}"
            },
            {
              "id": "7ea6872d-7fa9-49ac-b1ab-f3c14e94bb14",
              "name": "mensaje",
              "type": "string",
              "value": "={{ $json.content }}"
            },
            {
              "id": "722e2251-7328-41d3-a75f-11aa8554acc9",
              "name": "nombre",
              "type": "string",
              "value": "={{ $('Set Info').item.json.nombre }}"
            },
            {
              "id": "91ec7b09-b97d-4718-92e5-dee3a695ecf7",
              "name": "hora",
              "type": "string",
              "value": "={{ $('Set Info').item.json.hora }}"
            },
            {
              "id": "7b31d367-b881-4826-babe-cf71834b0b1c",
              "name": "mensaje_respondido",
              "type": "string",
              "value": "={{ $('Set Info').item.json.mensaje_respondido }}"
            },
            {
              "id": "ad9af313-4adc-4076-ab5c-13ee7297f277",
              "name": "caption",
              "type": "string",
              "value": "={{ $('Set Info').item.json.caption }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "15223c79-8ffe-4b3e-be6d-da2fb1e39494",
      "name": "OpenAI 4.1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "position": [
        1280,
        1840
      ],
      "parameters": {
        "model": "openai/gpt-4.1",
        "options": {
          "temperature": 0.2
        }
      },
      "credentials": {
        "openRouterApi": {
          "id": "FYXQKGowUia8VieK",
          "name": "OpenRouter Test"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "9108a296-df9c-4092-9641-e7a8c0a4beb9",
      "name": "Find your Groups ",
      "type": "n8n-nodes-evolution-api.evolutionApi",
      "disabled": true,
      "position": [
        -992,
        784
      ],
      "parameters": {
        "resource": "groups-api",
        "operation": "fetch-groups",
        "instanceName": "Averis",
        "searchMethod": "fetchAll"
      },
      "credentials": {
        "evolutionApi": {
          "id": "CIwiRkXyvC3Nbgqf",
          "name": "Evolution Averis"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "29324658-a8b2-416b-a457-b36afcb2eea4",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1968,
        432
      ],
      "parameters": {
        "color": 3,
        "width": 448,
        "height": 396,
        "content": "üî¥ GOOGLE SHEETS CONFIGURATION\n\n## Required Setup\n1. Create Google Sheet with tabs:\n   - Grupo_1\n   - Grupo_2  \n   - Grupo_3\n\n2. Update document ID in ALL \n   \"Guarda Mensajes\" nodes\n\n3. Required columns:\n   Data | Nombre | Mensaje | Mensaje Respondido | Caption | Hora\n\n‚ö†Ô∏è Each group needs its own sheet tab!"
      },
      "typeVersion": 1
    },
    {
      "id": "7951897a-1b07-40af-a328-b52acb28af41",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -544,
        -448
      ],
      "parameters": {
        "color": 7,
        "width": 3040,
        "height": 1388,
        "content": "## üîÑ -  REAL-TIME MESSAGE PROCESSING\n\n**Flow Overview:**\nWebhook ‚Üí Filter Groups ‚Üí Process Audio ‚Üí Store in Sheets\n\n**What Happens Here:**\n- Messages arrive via Evolution API webhook\n- System checks if message is from monitored groups\n- Voice messages are transcribed to text\n- All data is organized and stored in Google Sheets\n\n**Result:** Complete message history ready for analysis"
      },
      "typeVersion": 1
    },
    {
      "id": "8cf0b81b-493b-423f-99a6-6ed69818c4f8",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -528,
        1024
      ],
      "parameters": {
        "color": 7,
        "width": 3904,
        "height": 1244,
        "content": "## üìä -  DAILY INTELLIGENCE GENERATION\n\n**Flow Overview:**\nSchedule ‚Üí Extract Data ‚Üí AI Analysis ‚Üí Format ‚Üí Send\n\n**What Happens Here:**\n- Runs automatically at scheduled time\n- Extracts previous day's conversations\n- AI analyzes for business insights\n- Formats into WhatsApp-friendly messages\n- Delivers summary to target group\n\n**Result:** Actionable daily intelligence reports"
      },
      "typeVersion": 1
    },
    {
      "id": "f53d2306-fe19-4262-8107-3e2a821fabf6",
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1248,
        -384
      ],
      "parameters": {
        "color": 5,
        "width": 464,
        "height": 316,
        "content": "## üéôÔ∏è SMART AUDIO HANDLING\n\n**Voice Message Processing:**\n1. Detects audio messages\n2. Downloads audio file\n3. Converts to proper format\n4. Transcribes with OpenAI\n5. Replaces audio with text\n\n**Why This Matters:**\nVoice messages contain valuable information\nthat would otherwise be lost in analysis."
      },
      "typeVersion": 1
    },
    {
      "id": "de66f3ab-21d8-4ba0-a9e4-13ff2680c7a0",
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1120,
        1216
      ],
      "parameters": {
        "color": 5,
        "width": 464,
        "height": 780,
        "content": "## ü§ñ AI ANALYSIS ENGINE\n\n**Meet WhatsOn üïµüèæ‚Äç‚ôÇÔ∏è**\nYour AI detective specialized in finding:\n- AI and automation trends\n- Technical solutions\n- Business opportunities\n- Industry insights\n\n**What It Filters Out:**\n- Casual conversations\n- Off-topic discussions\n- Already known information\n\n**Customization:** Modify the system prompt \nto change focus areas or analysis style."
      },
      "typeVersion": 1
    },
    {
      "id": "2d22eaa0-3837-40de-9933-0f6cc904f7ad",
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1216,
        1088
      ],
      "parameters": {
        "color": 6,
        "width": 608,
        "height": 540,
        "content": "## ‚öôÔ∏è CUSTOMIZATION OPTIONS\n\n**Schedule Changes:**\nModify \"Schedule Trigger\" to change when\ndaily summaries are generated.\n\n**Add More Groups:**\n1. Add group variables in \"Set Info\"\n2. Create new Google Sheets tabs  \n3. Update Switch node conditions\n4. Add corresponding \"Guarda Mensajes\" nodes\n\n**AI Focus Areas:**\nEdit the AI Agent system prompt to:\n- Change analysis priorities\n- Add new topics to monitor\n- Modify output format\n- Adjust filtering criteria\n\n**Audio Processing:**\nDisable voice message handling by \nremoving the audio processing branch\nif not needed."
      },
      "typeVersion": 1
    },
    {
      "id": "06499d8b-dc03-4626-bca1-ec51ece60c99",
      "name": "Sticky Note15",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2640,
        -208
      ],
      "parameters": {
        "color": 5,
        "width": 620,
        "height": 832,
        "content": "## Was this helpful? Let me know!\n\nI truly hope this was helpful. Your feedback is very valuable and helps me create better resources.\n\n### Want to take automation to the next level?\n\nIf you're looking to optimize your business processes or need expert help with a project, here's how I can assist you:\n\n**üöÄ Free Discovery Call:** Do you have a process in your business that you'd like to automate but don't know where to start? In this initial call, we'll explore your needs and see if automation is the ideal solution for you.\n#### ‚û°Ô∏è **[Schedule a Discovery Call](https://cal.com/averis/asesoria)**\n\n**üí° Personalized Consulting :** If you already have a specific problem, an integration challenge, or need hands-on help building a custom workflow, this session is for you. Together, we'll find a powerful solution for your case.\n#### ‚û°Ô∏è **[Book Your Consulting Session](https://cal.com/averis/consultoria-personalizada)**\n\n### Stay Up to Date\n\nFor more tricks, ideas, and news about automation and AI, let's connect on LinkedIn!\n#### ‚û°Ô∏è **[Follow me on LinkedIn](https://www.linkedin.com/in/daniel-lianes/)**\n\n--\n\nHappy Automating!\n\nDaniel Lianes"
      },
      "typeVersion": 1
    },
    {
      "id": "0a0e5f53-132f-489e-9346-4bfa84a9db52",
      "name": "Output Formatter",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "position": [
        1888,
        1616
      ],
      "parameters": {
        "text": "=<summary_groups> \n{{ $json.texto }} \n</summary_groups>\nCRITICAL: If the original message has 500 words, your output must have exactly 500 words. If it has 50 words, exactly 50 words. COUNT THE WORDS.",
        "messages": {
          "messageValues": [
            {
              "message": "=PROMPT TO SPLIT WHATSAPP SUMMARY INTO FRAGMENTED MESSAGES\n\nMAIN INSTRUCTIONS\nYou will receive a complete WhatsOn üïµüèæ‚Äç‚ôÇÔ∏è summary. Your task is ONLY to split the existing content into separate messages for WhatsApp, WITHOUT MODIFYING OR ADDING ANYTHING.\n\nCRITICAL RULES\nWHAT TO DO:\n\n‚úÖ ONLY split the content by H2 titles\n‚úÖ ONLY convert markdown format to WhatsApp format\n‚úÖ PRESERVE all the exact original text\n‚úÖ MAINTAIN original emojis and structure\n\nWHAT NOT TO DO:\n\n‚ùå DO NOT modify existing texts\n‚ùå DO NOT add new content\n‚ùå DO NOT make anything up\n‚ùå DO NOT change the original tone\n‚ùå DO NOT summarize or shorten\n‚ùå DO NOT add extra \"WhatsOn\" in each message\n\nDIVISION CRITERIA\nAUTOMATIC FRAGMENTATION:\n\nIntroduction: From the greeting to the first ##\nEach H2 title: A separate message with its full content\nPreserve everything: Every paragraph, bullet, original emoji\n\nFORMAT CONVERSION:\n\nTitle ‚Üí Title (WhatsApp bold)\nKeep all bullets ‚Ä¢\nPreserve all original emojis\nPreserve original line breaks\n\nTRANSFORMATION EXAMPLE\nINPUT (Complete Summary):\nHello! WhatsOn üïµüèæ‚Äç‚ôÇÔ∏è here with today's summary of what's happening in the groups.\n\nüì∞ New Claude update that improves automations\nI've seen that Claude Sonnet 4 has been released and people are testing it for automations. They say it's much better for generating N8N code.\n\nBetter context understanding\n\nGenerates cleaner workflows\n\nFewer errors in configurations\n\nüí∞ Price comparison between VPS providers\nThere have been several comments about Contabo vs DigitalOcean for hosting N8N instances.\n\nContabo: ‚Ç¨4/month for 4GB RAM\n\nDigitalOcean: $24/month for 4GB RAM\n\nSimilar performance according to tests\n\nOUTPUT JSON:\n\nJSON\n\n{\n  \"messages\": [\n    \"Hello! WhatsOn üïµüèæ‚Äç‚ôÇÔ∏è here with today's summary of what's happening in the groups.\",\n    \n    \"*üì∞ New Claude update that improves automations*\\n\\nI've seen that Claude Sonnet 4 has been released and people are testing it for automations. They say it's much better for generating N8N code.\\n\\n‚Ä¢ Better context understanding\\n‚Ä¢ Generates cleaner workflows\\n‚Ä¢ Fewer errors in configurations\",\n    \n    \"*üí∞ Price comparison between VPS providers*\\n\\nThere have been several comments about Contabo vs DigitalOcean for hosting N8N instances.\\n\\n‚Ä¢ Contabo: ‚Ç¨4/month for 4GB RAM\\n‚Ä¢ DigitalOcean: $24/month for 4GB RAM\\n‚Ä¢ Similar performance according to tests\"\n  ]\n}\nWHATSAPP FORMAT RULES\nSIMPLE CONVERSIONS:\n\nText ‚Üí Text\nKeep ‚Ä¢ for bullets\nKeep all original emojis\nPreserve \\n for line breaks\n\nJSON STRUCTURE:\n\nJSON\n\n{\n  \"messages\": [\n    \"message 1 with exact original content\",\n    \"message 2 with exact original content\",\n    \"message 3 with exact original content\"\n  ]\n}\n\nSPECIAL CASES\nIF THERE ARE NO H2 TITLES:\n\nAll the content goes into a single message\n\nIF THERE IS ONLY AN INTRODUCTION:\n\nA single message with the entire introduction\n\nIF THE MESSAGE IS VERY LONG:\n\nSplit by natural paragraphs while maintaining coherence\nNEVER cut sentences in half\n\nMANDATORY VALIDATIONS\n\n‚úÖ Valid JSON with a messages array\n‚úÖ 100% original content preserved\n‚úÖ Only markdown ‚Üí WhatsApp format conversion\n‚úÖ Logical division by H2 titles\n‚úÖ Zero text modifications\n‚úÖ Zero content additions\n\nFINAL OBJECTIVE\nTake the complete WhatsOn üïµüèæ‚Äç‚ôÇÔ∏è summary and ONLY split it into WhatsApp messages, keeping ALL the original content intact."
            }
          ]
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 1.6
    },
    {
      "id": "a7a074cc-dedc-429d-827d-ecc90dc5e763",
      "name": "Set the JSON Return Type",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        2240,
        1968
      ],
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"mensajes\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      }\n    }\n  },\n  \"required\": [\"mensajes\"]\n}"
      },
      "typeVersion": 1.2
    },
    {
      "id": "c6626966-5114-4db6-98d5-e3c5558b9a9e",
      "name": "Send message",
      "type": "n8n-nodes-evolution-api.evolutionApi",
      "position": [
        2752,
        1632
      ],
      "parameters": {
        "resource": "messages-api",
        "remoteJid": "<YOUR GROUP>",
        "messageText": "={{ $json['output.mensajes'] }}",
        "instanceName": "<INSTANCE NAME>",
        "options_message": {}
      },
      "credentials": {
        "evolutionApi": {
          "id": "CIwiRkXyvC3Nbgqf",
          "name": "Evolution Averis"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "41c73727-34db-4824-88af-1fa5ac611f23",
      "name": "Group conversations",
      "type": "n8n-nodes-base.aggregate",
      "position": [
        176,
        1408
      ],
      "parameters": {
        "options": {},
        "aggregate": "aggregateAllItemData"
      },
      "typeVersion": 1
    },
    {
      "id": "1f53d13a-3b8f-4a1c-a345-ab6ebf5399b5",
      "name": "Group conversations1",
      "type": "n8n-nodes-base.aggregate",
      "position": [
        176,
        1616
      ],
      "parameters": {
        "options": {},
        "aggregate": "aggregateAllItemData"
      },
      "typeVersion": 1
    },
    {
      "id": "eafd408e-b354-4a0f-9e55-c8f935dcc250",
      "name": "Group conversations2",
      "type": "n8n-nodes-base.aggregate",
      "position": [
        176,
        1824
      ],
      "parameters": {
        "options": {},
        "aggregate": "aggregateAllItemData"
      },
      "typeVersion": 1
    },
    {
      "id": "8b810c56-7f6b-4f08-943e-8f93aaf3935f",
      "name": "Normalize data",
      "type": "n8n-nodes-base.code",
      "position": [
        400,
        1616
      ],
      "parameters": {
        "jsCode": "return (() => {\n try {\n   // Obtiene los datos\n   let datos = $json.data;\n   // Si los datos no son un array, intenta normalizar\n   if (!Array.isArray(datos)) {\n     if (datos && typeof datos === 'object') {\n       // Si es un objeto √∫nico, lo pone dentro de un array\n       datos = [datos];\n     } else {\n       // En caso contrario, devuelve un error\n       return [{ mensaje: \"Error: Los datos proporcionados no son v√°lidos para procesamiento.\" }];\n     }\n   }\n   // Procesa los datos ahora normalizados\n   const resumen = datos.map(item => {\n     // Validaciones para campos individuales\n     const nombreValido = typeof item.Nombre === 'string' ? item.Nombre.trim() : null;\n     const isNombreInvalido = !nombreValido || nombreValido === \"?\" || nombreValido.toLowerCase() === \"desconocido\";\n     const nombreUsuario = isNombreInvalido ? \"Usuario no identificado\" : nombreValido;\n     const mensajeRespondido = item[\"Mensaje Respondido\"]\n       ? `Mensaje Respondido: ${item[\"Mensaje Respondido\"]}`\n       : \"Mensaje Respondido: Ninguno\";\n     return `Nombre: ${nombreUsuario}, Mensaje: ${item.Mensaje || \"Mensaje no disponible\"}, ${mensajeRespondido}, Hora: ${item.Hora || \"Hora no informada\"}, Fecha: ${item.Data || \"Fecha no informada\"}`;\n   }).join('\\n');\n   return [{ mensaje: resumen }];\n } catch (error) {\n   return [{ mensaje: `Error al procesar los mensajes: ${error.message}` }];\n }\n})();"
      },
      "typeVersion": 2
    },
    {
      "id": "6a83534d-ed2a-4af1-a978-2a8d2b332949",
      "name": "Normalize data1",
      "type": "n8n-nodes-base.code",
      "position": [
        400,
        1408
      ],
      "parameters": {
        "jsCode": "return (() => {\n try {\n   // Obtiene los datos\n   let datos = $json.data;\n   // Si los datos no son un array, intenta normalizar\n   if (!Array.isArray(datos)) {\n     if (datos && typeof datos === 'object') {\n       // Si es un objeto √∫nico, lo pone dentro de un array\n       datos = [datos];\n     } else {\n       // En caso contrario, devuelve un error\n       return [{ mensaje: \"Error: Los datos proporcionados no son v√°lidos para procesamiento.\" }];\n     }\n   }\n   // Procesa los datos ahora normalizados\n   const resumen = datos.map(item => {\n     // Validaciones para campos individuales\n     const nombreValido = typeof item.Nombre === 'string' ? item.Nombre.trim() : null;\n     const isNombreInvalido = !nombreValido || nombreValido === \"?\" || nombreValido.toLowerCase() === \"desconocido\";\n     const nombreUsuario = isNombreInvalido ? \"Usuario no identificado\" : nombreValido;\n     const mensajeRespondido = item[\"Mensaje Respondido\"]\n       ? `Mensaje Respondido: ${item[\"Mensaje Respondido\"]}`\n       : \"Mensaje Respondido: Ninguno\";\n     return `Nombre: ${nombreUsuario}, Mensaje: ${item.Mensaje || \"Mensaje no disponible\"}, ${mensajeRespondido}, Hora: ${item.Hora || \"Hora no informada\"}, Fecha: ${item.Data || \"Fecha no informada\"}`;\n   }).join('\\n');\n   return [{ mensaje: resumen }];\n } catch (error) {\n   return [{ mensaje: `Error al procesar los mensajes: ${error.message}` }];\n }\n})();"
      },
      "typeVersion": 2
    },
    {
      "id": "516d7fe8-e6b5-4dd8-86e3-65c1f6220348",
      "name": "Normalize data2",
      "type": "n8n-nodes-base.code",
      "position": [
        400,
        1824
      ],
      "parameters": {
        "jsCode": "return (() => {\n try {\n   // Obtiene los datos\n   let datos = $json.data;\n   // Si los datos no son un array, intenta normalizar\n   if (!Array.isArray(datos)) {\n     if (datos && typeof datos === 'object') {\n       // Si es un objeto √∫nico, lo pone dentro de un array\n       datos = [datos];\n     } else {\n       // En caso contrario, devuelve un error\n       return [{ mensaje: \"Error: Los datos proporcionados no son v√°lidos para procesamiento.\" }];\n     }\n   }\n   // Procesa los datos ahora normalizados\n   const resumen = datos.map(item => {\n     // Validaciones para campos individuales\n     const nombreValido = typeof item.Nombre === 'string' ? item.Nombre.trim() : null;\n     const isNombreInvalido = !nombreValido || nombreValido === \"?\" || nombreValido.toLowerCase() === \"desconocido\";\n     const nombreUsuario = isNombreInvalido ? \"Usuario no identificado\" : nombreValido;\n     const mensajeRespondido = item[\"Mensaje Respondido\"]\n       ? `Mensaje Respondido: ${item[\"Mensaje Respondido\"]}`\n       : \"Mensaje Respondido: Ninguno\";\n     return `Nombre: ${nombreUsuario}, Mensaje: ${item.Mensaje || \"Mensaje no disponible\"}, ${mensajeRespondido}, Hora: ${item.Hora || \"Hora no informada\"}, Fecha: ${item.Data || \"Fecha no informada\"}`;\n   }).join('\\n');\n   return [{ mensaje: resumen }];\n } catch (error) {\n   return [{ mensaje: `Error al procesar los mensajes: ${error.message}` }];\n }\n})();"
      },
      "typeVersion": 2
    },
    {
      "id": "51331ced-d350-400c-bbf3-ab9bb50b831a",
      "name": "Extract today's conversations",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -32,
        1408
      ],
      "parameters": {
        "options": {},
        "filtersUI": {
          "values": [
            {
              "lookupValue": "={{ $now.minus({ days: 1 }).format('dd/LL/yyyy') }}",
              "lookupColumn": "Data"
            }
          ]
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": "gid=0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk/edit#gid=0",
          "cachedResultName": "Grupo_1"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk/edit?usp=drivesdk",
          "cachedResultName": "Resumen grupos WhatsApp"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "OeyDebGZ6hnXoE0m",
          "name": "Google Sheets daniel@averis.es"
        }
      },
      "typeVersion": 4.5
    },
    {
      "id": "a95b096d-7e15-4ba9-b6c4-5200ddf7e668",
      "name": "Extract today's conversations1",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -32,
        1616
      ],
      "parameters": {
        "options": {},
        "filtersUI": {
          "values": [
            {
              "lookupValue": "={{ $now.minus({ days: 1 }).format('dd/LL/yyyy') }}",
              "lookupColumn": "Data"
            }
          ]
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 1844593388,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk/edit#gid=1844593388",
          "cachedResultName": "Grupo_2"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk/edit?usp=drivesdk",
          "cachedResultName": "Resumen grupos WhatsApp"
        },
        "combineFilters": "OR"
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "OeyDebGZ6hnXoE0m",
          "name": "Google Sheets daniel@averis.es"
        }
      },
      "typeVersion": 4.5
    },
    {
      "id": "0143e4eb-78da-4c04-b486-61f5937ef00a",
      "name": "Extract today's conversations2",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -32,
        1824
      ],
      "parameters": {
        "options": {},
        "filtersUI": {
          "values": [
            {
              "lookupValue": "={{ $now.minus({ days: 1 }).format('dd/LL/yyyy') }}",
              "lookupColumn": "Data"
            }
          ]
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 1731243803,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk/edit#gid=1731243803",
          "cachedResultName": "Grupo_3"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk/edit?usp=drivesdk",
          "cachedResultName": "Resumen grupos WhatsApp"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "OeyDebGZ6hnXoE0m",
          "name": "Google Sheets daniel@averis.es"
        }
      },
      "typeVersion": 4.5
    },
    {
      "id": "183cb6b3-0bd5-4b15-954c-3c8ffb2f5116",
      "name": "Send Summary every day at 00.00h",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -368,
        1616
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtMinute": 1
            }
          ]
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "20e4e0fa-b751-4f65-ae05-d78911a34919",
      "name": "Check if the message is from the Group",
      "type": "n8n-nodes-base.if",
      "position": [
        608,
        480
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "or",
          "conditions": [
            {
              "id": "903800e9-d7cd-40c7-9058-5c103b602063",
              "operator": {
                "name": "filter.operator.equals",
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "={{ $json.grupo_1 }}",
              "rightValue": "={{ $json.grupo_recibido }}"
            },
            {
              "id": "b0bd14fb-543f-4d46-b5b4-48e29ec17bb0",
              "operator": {
                "name": "filter.operator.equals",
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "={{ $json.grupo_2 }}",
              "rightValue": "={{ $json.grupo_recibido }}"
            },
            {
              "id": "dcf7593e-555e-40f5-a0d9-4aacadf166be",
              "operator": {
                "name": "filter.operator.equals",
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "={{ $json.grupo_3 }}",
              "rightValue": "={{ $json.grupo_recibido }}"
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "5f1e3b6f-ddc4-4e80-9d34-dc021e370ddf",
      "name": "Save Messages",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1648,
        240
      ],
      "parameters": {
        "columns": {
          "value": {
            "Data": "={{ $now.format('dd/LL/yyyy') }}",
            "Hora": "={{ new Date($json.hora).toLocaleTimeString('es-ES', { timeZone: 'Europe/Madrid' }) }}",
            "Nombre": "={{ $json.nombre }}",
            "Caption": "={{ $json.caption }}",
            "Mensaje": "={{ $json.mensaje }}",
            "Mensaje Respondido": "={{ $json.mensaje_respondido }}"
          },
          "schema": [
            {
              "id": "Nombre",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Nombre",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Mensaje",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Mensaje",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Mensaje Respondido",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Mensaje Respondido",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Caption",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Caption",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Hora",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Hora",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Data",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Data",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "append",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": "gid=0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk/edit#gid=0",
          "cachedResultName": "Hoja 1"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk/edit?usp=drivesdk",
          "cachedResultName": "Resumen grupos WhatsApp"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "OeyDebGZ6hnXoE0m",
          "name": "Google Sheets daniel@averis.es"
        }
      },
      "typeVersion": 4.5
    },
    {
      "id": "e720a88c-e0dd-4a6a-9fed-7a8f2caebb0f",
      "name": "Save Messages1",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1648,
        464
      ],
      "parameters": {
        "columns": {
          "value": {
            "Data": "={{ $now.format('dd/LL/yyyy') }}",
            "Hora": "={{ new Date($json.hora).toLocaleTimeString('es-ES', { timeZone: 'Europe/Madrid' }) }}",
            "Nombre": "={{ $json.nombre }}",
            "Caption": "={{ $json.caption }}",
            "Mensaje": "={{ $json.mensaje }}",
            "Mensaje Respondido": "={{ $json.mensaje_respondido }}"
          },
          "schema": [
            {
              "id": "Nombre",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Nombre",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Mensaje",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Mensaje",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Mensaje Respondido",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Mensaje Respondido",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Caption",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Caption",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Hora",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Hora",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Data",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Data",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "append",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 1844593388,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk/edit#gid=1844593388",
          "cachedResultName": "Grupo_2"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk/edit?usp=drivesdk",
          "cachedResultName": "Resumen grupos WhatsApp"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "OeyDebGZ6hnXoE0m",
          "name": "Google Sheets daniel@averis.es"
        }
      },
      "typeVersion": 4.5
    },
    {
      "id": "401fe6d3-497e-49af-8544-875cbd003da4",
      "name": "Save Messages2",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1648,
        688
      ],
      "parameters": {
        "columns": {
          "value": {
            "Data": "={{ $now.format('dd/LL/yyyy') }}",
            "Hora": "={{ new Date($json.hora).toLocaleTimeString('es-ES', { timeZone: 'Europe/Madrid' }) }}",
            "Nombre": "={{ $json.nombre }}",
            "Caption": "={{ $json.caption }}",
            "Mensaje": "={{ $json.mensaje }}",
            "Mensaje Respondido": "={{ $json.mensaje_respondido }}"
          },
          "schema": [
            {
              "id": "Nombre",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Nombre",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Mensaje",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Mensaje",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Mensaje Respondido",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Mensaje Respondido",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Caption",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Caption",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Hora",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Hora",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Data",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Data",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "append",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 1731243803,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk/edit#gid=1731243803",
          "cachedResultName": "Grupo_3"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1vyva91DZgEWnJ72ocC3s1M8h0G2XC7QudcGYjfjrshk/edit?usp=drivesdk",
          "cachedResultName": "Resumen grupos WhatsApp"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "OeyDebGZ6hnXoE0m",
          "name": "Google Sheets daniel@averis.es"
        }
      },
      "typeVersion": 4.5
    },
    {
      "id": "99d9f6a6-26f4-4238-b483-50b4e2b84125",
      "name": "Download audio",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1008,
        -32
      ],
      "parameters": {
        "url": "={{ $('Webhook-EVO').item.json.body.server_url }}//chat/getBase64FromMediaMessage/{{ $('Webhook-EVO').item.json.body.instance }}",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "message.key.id",
              "value": "={{ $('Webhook-EVO').item.json.body.data.key.id }}"
            },
            {
              "name": "convertToMp4",
              "value": "={{ Boolean(false) }}"
            }
          ]
        },
        "headerParameters": {
          "parameters": [
            {
              "name": "apikey",
              "value": "={{ $('Webhook-EVO').item.json.body.apikey }}"
            }
          ]
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "edf60171-2fa4-4850-a872-394ca873b1c3",
      "name": "Convert audio",
      "type": "n8n-nodes-base.convertToFile",
      "position": [
        1200,
        -32
      ],
      "parameters": {
        "options": {
          "mimeType": "={{ $json.mimetype }}"
        },
        "operation": "toBinary",
        "sourceProperty": "base64"
      },
      "typeVersion": 1.1
    },
    {
      "id": "9ebc33b4-beb8-41f4-a9ab-9eb17a5b9fcb",
      "name": "Audio content",
      "type": "n8n-nodes-base.set",
      "position": [
        1584,
        -32
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "a54b459d-e8df-47e1-be8c-a8a476ab93c3",
              "name": "content",
              "type": "string",
              "value": "={{ $json.text }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "8f77725e-def9-4f2a-8dff-1b45e10f11ca",
      "name": "Group all conversations",
      "type": "n8n-nodes-base.aggregate",
      "position": [
        928,
        1616
      ],
      "parameters": {
        "options": {},
        "aggregate": "aggregateAllItemData"
      },
      "typeVersion": 1
    },
    {
      "id": "b9ade45f-e492-43f0-b361-22b0f67afbc3",
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1968,
        96
      ],
      "parameters": {
        "color": 5,
        "width": 464,
        "height": 316,
        "content": "### üîÑ SMART MESSAGE ROUTING\n\n**How messages reach the correct storage:**\n\nThe Switch node routes messages based on group origin:\n- Group 1 messages ‚Üí Grupo_1 sheet\n- Group 2 messages ‚Üí Grupo_2 sheet  \n- Group 3 messages ‚Üí Grupo_3 sheet\n\nEach group maintains separate conversation history while contributing to unified daily analysis."
      },
      "typeVersion": 1
    },
    {
      "id": "aaea02e8-da16-4f71-9396-0068da6c6de2",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1216,
        1680
      ],
      "parameters": {
        "color": 4,
        "width": 620,
        "content": "## Sheets Template\n\nhttps://docs.google.com/spreadsheets/d/1REnD1Sac8O2vnyWOIpB4WqMZbWNMq3zxJ-n8a-LSwms/edit?usp=sharing"
      },
      "typeVersion": 1
    }
  ],
  "pinData": {
    "Webhook-EVO": [
      {
        "body": {
          "data": {
            "key": {
              "id": "AA304285A703A65CB84CF3C7C181E84F",
              "fromMe": false,
              "remoteJid": "120363419074159638@g.us",
              "participant": "5492954513698@s.whatsapp.net"
            },
            "source": "android",
            "status": "DELIVERY_ACK",
            "message": {
              "base64": "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",
              "audioMessage": {
                "ptt": true,
                "url": "https://mmg.whatsapp.net/v/t62.7117-24/532791164_813918324527908_982228961076361219_n.enc?ccb=11-4&oh=01_Q5Aa2QHtqXJe2zyLzTm7rbJQlc8t6kx1NaTabyIHNAt9sgXrsg&oe=68C5C407&_nc_sid=5e03e0&mms3=true",
                "seconds": 6,
                "mediaKey": "Vmo+wv1lzgUkOpX1DsXGXi7E5lTS+3wyj2OT6UHOy/8=",
                "mimetype": "audio/ogg; codecs=opus",
                "waveform": "AAskPSMuJDAvJyIkAwA8PFxZWVpcWFRYV1dfVVFIQkFFTF5hX1hUUkM3OzklISEYP0YlAAAATltgXVpdW0tKAA==",
                "directPath": "/v/t62.7117-24/532791164_813918324527908_982228961076361219_n.enc?ccb=11-4&oh=01_Q5Aa2QHtqXJe2zyLzTm7rbJQlc8t6kx1NaTabyIHNAt9sgXrsg&oe=68C5C407&_nc_sid=5e03e0",
                "fileLength": "14785",
                "fileSha256": "mDwe4Rx5Wgg3Bl+XIsaSqL8VH6nATaF8d1C4VxMXG8k=",
                "contextInfo": {
                  "stanzaId": "3EB0E1CEBCEB208BE45FBB",
                  "participant": "34644498183@s.whatsapp.net",
                  "quotedMessage": {
                    "conversation": "https://www.youtube.com/watch?v=FeE1mx-sCDo\n\nCualquier duda, lo hablamos por el chat general.\n\nEspero que os guste."
                  }
                },
                "fileEncSha256": "XUkp7hUuj34V/sLlzwv8AVFqLtkrgftGl0B6LQhFzi8=",
                "mediaKeyTimestamp": "1755206897"
              },
              "messageContextInfo": {
                "messageSecret": "KBiPDeTQA/fpw+3ktagQsO3KmRzh9zEYexoJaMxrl44="
              },
              "senderKeyDistributionMessage": {
                "groupId": "120363419074159638@g.us",
                "axolotlSenderKeyDistributionMessage": "MwjTr7+BBBAAGiCVBkWlXaWo5Zgj9PXX5tVcQbpRqShG2FYHyk66cg5eZCIhBQE2zbPXLmb/nc4/ZtyXDisGkcjj7vAaluN7D6M5KiJJ"
              }
            },
            "pushName": "Esteban Fortunas",
            "instanceId": "8bd860e0-8d60-4032-9605-22b627b53f2f",
            "contextInfo": {
              "stanzaId": "3EB0E1CEBCEB208BE45FBB",
              "participant": "34644498183@s.whatsapp.net",
              "quotedMessage": {
                "conversation": "https://www.youtube.com/watch?v=FeE1mx-sCDo\n\nCualquier duda, lo hablamos por el chat general.\n\nEspero que os guste."
              }
            },
            "messageType": "audioMessage",
            "chatwootInboxId": 1,
            "messageTimestamp": 1755206906,
            "chatwootMessageId": 2274,
            "chatwootConversationId": 16
          },
          "event": "messages.upsert",
          "apikey": "FA4CA8720ACD-444F-B064-3BCA270C9A68",
          "sender": "34623922886@s.whatsapp.net",
          "instance": "Averis",
          "date_time": "2025-08-14T18:28:27.218Z",
          "server_url": "https://desarrollo-evolution-api.swxu19.easypanel.host",
          "destination": "https://ssn8n.averis.cloud/webhook/resumen"
        },
        "query": {},
        "params": {},
        "headers": {
          "host": "ssn8n.averis.cloud",
          "x-real-ip": "172.18.0.1",
          "user-agent": "axios/1.7.9",
          "content-type": "application/json",
          "content-length": "22040",
          "accept-encoding": "gzip, compress, deflate, br",
          "x-forwarded-for": "172.18.0.1",
          "x-forwarded-host": "ssn8n.averis.cloud",
          "x-forwarded-port": "443",
          "x-forwarded-proto": "https",
          "x-forwarded-server": "19ad9afe7b64"
        },
        "webhookUrl": "https://ssn8n.averis.cloud/webhook/resumen",
        "executionMode": "production"
      }
    ],
    "Send Summary every day at 00.00h": [
      {
        "Hour": "00",
        "Year": "2025",
        "Month": "August",
        "Minute": "01",
        "Second": "43",
        "Timezone": "Europe/Madrid (UTC+02:00)",
        "timestamp": "2025-08-17T00:01:43.065+02:00",
        "Day of week": "Sunday",
        "Day of month": "17",
        "Readable date": "August 17th 2025, 12:01:43 am",
        "Readable time": "12:01:43 am"
      }
    ]
  },
  "connections": {
    "If": {
      "main": [
        [
          {
            "node": "Download audio",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Group all conversations",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI": {
      "main": [
        [
          {
            "node": "Audio content",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Save Messages",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Save Messages1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Save Messages2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Set Resumen",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Info": {
      "main": [
        [
          {
            "node": "Check if the message is from the Group",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Info1": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "JSON parse": {
      "ai_outputParser": [
        [
          {
            "node": "Output Formatter",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI 4.1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Set Resumen": {
      "main": [
        [
          {
            "node": "Output Formatter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook-EVO": {
      "main": [
        [
          {
            "node": "Set Info",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send message": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Audio content": {
      "main": [
        [
          {
            "node": "Set Info1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert audio": {
      "main": [
        [
          {
            "node": "OpenAI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download audio": {
      "main": [
        [
          {
            "node": "Convert audio",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Normalize data": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "Send message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Normalize data1": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Normalize data2": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "OpenAI 4.1 Mini1": {
      "ai_languageModel": [
        [
          {
            "node": "Output Formatter",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "JSON parse",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Output Formatter": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Group conversations": {
      "main": [
        [
          {
            "node": "Normalize data1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Group conversations1": {
      "main": [
        [
          {
            "node": "Normalize data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Group conversations2": {
      "main": [
        [
          {
            "node": "Normalize data2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Group all conversations": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set the JSON Return Type": {
      "ai_outputParser": [
        [
          {
            "node": "JSON parse",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Extract today's conversations": {
      "main": [
        [
          {
            "node": "Group conversations",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract today's conversations1": {
      "main": [
        [
          {
            "node": "Group conversations1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract today's conversations2": {
      "main": [
        [
          {
            "node": "Group conversations2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Summary every day at 00.00h": {
      "main": [
        [
          {
            "node": "Extract today's conversations2",
            "type": "main",
            "index": 0
          },
          {
            "node": "Extract today's conversations1",
            "type": "main",
            "index": 0
          },
          {
            "node": "Extract today's conversations",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check if the message is from the Group": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No hacer nada",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}